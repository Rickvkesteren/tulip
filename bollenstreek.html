<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>De Bollenstreek - Bollenstreek Direct</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <style>
        #map {
            height: 500px;
            width: 100%;
            border-radius: 12px;
            z-index: 1;
        }
        .leaflet-popup-content {
            font-family: 'Open Sans', sans-serif;
        }
        .popup-kweker {
            text-align: center;
            min-width: 200px;
        }
        .popup-kweker h3 {
            font-family: 'Playfair Display', serif;
            margin: 0 0 5px 0;
            color: #2c3e50;
        }
        .popup-kweker .location {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        .popup-kweker .specialties {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            justify-content: center;
            margin-bottom: 10px;
        }
        .popup-kweker .specialty {
            background: #f0f0f0;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
        }
        .popup-kweker .btn-small {
            display: inline-block;
            background: #e74c3c;
            color: white;
            padding: 8px 15px;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.85rem;
            margin-top: 5px;
        }
        .popup-kweker .btn-small:hover {
            background: #c0392b;
        }
        .partner-webshops {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .partner-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        .partner-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        .partner-card h4 {
            margin: 0 0 5px 0;
            font-size: 1.2rem;
        }
        .partner-card .location {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        .partner-card p {
            color: #7f8c8d;
            margin-bottom: 15px;
        }
        .partner-card .specialties {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 15px;
        }
        .partner-card .specialty {
            background: #f5f5f5;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
        }
        .partner-card a.visit-btn {
            display: inline-block;
            background: #27ae60;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .partner-card a.visit-btn:hover {
            background: #219a52;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <span class="logo-icon">üå∑</span>
                    <span class="logo-text">Bollenstreek Direct</span>
                </a>
                <nav class="nav">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="shop.html" class="nav-link">Webshop</a>
                    <a href="kwekers.html" class="nav-link">Onze Kwekers</a>
                    <a href="bollenstreek.html" class="nav-link active">De Bollenstreek</a>
                    <a href="experiences.html" class="nav-link">Experiences</a>
                    <a href="contact.html" class="nav-link">Contact</a>
                </nav>
                <div class="header-actions">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Zoek bloembollen..." autocomplete="off">
                        <div class="search-results" id="searchResults"></div>
                    </div>
                    <button class="fav-btn" id="favBtn" title="Favorieten">
                        ‚ù§Ô∏è <span class="fav-count" id="favCount">0</span>
                    </button>
                    <button class="cart-btn" id="cartBtn">
                        üõí <span class="cart-count" id="cartCount">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>De Bollenstreek</h1>
            <p>Ontdek waar onze bloembollen vandaan komen</p>
        </div>
    </section>

    <!-- Bollenstreek Section -->
    <section class="bollenstreek-section">
        <div class="container">
            <div class="bollenstreek-intro">
                <p>
                    De Bollenstreek is een prachtig gebied tussen Leiden en Haarlem, wereldberoemd om de kleurrijke 
                    bloembollenvelden die elk voorjaar tot bloei komen. Dit unieke stukje Nederland is al eeuwenlang 
                    het centrum van de Nederlandse bloembollenteelt.
                </p>
            </div>

            <!-- Interactive Map -->
            <div class="map-fullwidth">
                <h3 style="text-align: center; margin-bottom: 30px; font-size: 1.5rem;">üó∫Ô∏è Interactieve Kaart - Onze Kwekers</h3>
                <div id="map"></div>
            </div>

            <!-- Partner Webshops Section -->
            <div style="margin: 60px 0;">
                <h2 style="text-align: center; font-size: 2rem; margin-bottom: 15px;">üõí Partner Webshops</h2>
                <p style="text-align: center; color: #7f8c8d; max-width: 700px; margin: 0 auto 30px;">
                    Bestel rechtstreeks bij onze partner kwekerijen. Klik op een webshop om hun assortiment te bekijken.
                </p>
                <div class="partner-webshops" id="partnerWebshops">
                    <!-- Dynamisch geladen -->
                </div>
            </div>

            <!-- Locations Grid -->
            <h3 style="text-align: center; margin-bottom: 30px; font-size: 1.8rem;">üìç Locaties in de Bollenstreek</h3>
            <div class="locations-grid" id="locationsGrid">
                <!-- Dynamisch gegenereerd -->
            </div>
        </div>
    </section>

    <!-- Info Section -->
    <section style="padding: 80px 0; background: var(--bg-cream);">
        <div class="container">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center;">
                <div>
                    <h2 style="font-size: 2rem; margin-bottom: 20px;">Waarom de Bollenstreek?</h2>
                    <p style="color: #7f8c8d; margin-bottom: 15px; line-height: 1.8;">
                        De unieke combinatie van zandige grond, het zeeklimaat en eeuwenoude expertise maakt de 
                        Bollenstreek de perfecte plek voor het kweken van bloembollen.
                    </p>
                    <ul style="color: #7f8c8d; line-height: 2; list-style: none;">
                        <li>üåä <strong>Zeeklimaat:</strong> Milde winters en koele zomers</li>
                        <li>üèñÔ∏è <strong>Zandgrond:</strong> Perfecte drainage voor bollen</li>
                        <li>üë®‚Äçüåæ <strong>Expertise:</strong> Generaties van kennis en ervaring</li>
                        <li>üå∑ <strong>Traditie:</strong> Al sinds de 17e eeuw bollenteelt</li>
                    </ul>
                </div>
                <div style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 12px; padding: 60px; text-align: center;">
                    <div style="font-size: 6rem; margin-bottom: 20px;">üå∑üå∏üåº</div>
                    <h3 style="margin-bottom: 10px;">Het Voorjaar in de Bollenstreek</h3>
                    <p style="color: #7f8c8d;">Van half maart tot half mei kleuren de velden in alle kleuren van de regenboog.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- History Section -->
    <section style="padding: 80px 0;">
        <div class="container">
            <h2 style="text-align: center; font-size: 2rem; margin-bottom: 50px;">Geschiedenis van de Bollenteelt</h2>
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px;">
                <div style="text-align: center; padding: 30px;">
                    <div style="font-size: 2.5rem; color: var(--primary-color); font-weight: 700; margin-bottom: 10px;">1593</div>
                    <h4 style="margin-bottom: 10px;">De Eerste Tulpen</h4>
                    <p style="color: #7f8c8d; font-size: 0.9rem;">Carolus Clusius introduceert tulpen in Nederland vanuit Turkije.</p>
                </div>
                <div style="text-align: center; padding: 30px;">
                    <div style="font-size: 2.5rem; color: var(--primary-color); font-weight: 700; margin-bottom: 10px;">1637</div>
                    <h4 style="margin-bottom: 10px;">Tulpenmanie</h4>
                    <p style="color: #7f8c8d; font-size: 0.9rem;">De beroemde speculatiezeepbel rond tulpenbollen.</p>
                </div>
                <div style="text-align: center; padding: 30px;">
                    <div style="font-size: 2.5rem; color: var(--primary-color); font-weight: 700; margin-bottom: 10px;">1949</div>
                    <h4 style="margin-bottom: 10px;">Keukenhof Geopend</h4>
                    <p style="color: #7f8c8d; font-size: 0.9rem;">De wereldberoemde bloementuin opent haar deuren in Lisse.</p>
                </div>
                <div style="text-align: center; padding: 30px;">
                    <div style="font-size: 2.5rem; color: var(--primary-color); font-weight: 700; margin-bottom: 10px;">Nu</div>
                    <h4 style="margin-bottom: 10px;">Wereldexport</h4>
                    <p style="color: #7f8c8d; font-size: 0.9rem;">Nederland exporteert jaarlijks miljarden bloembollen wereldwijd.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>Bollenstreek Direct</h4>
                    <p>Nederlandse bloembollen rechtstreeks van lokale kwekers uit de Bollenstreek naar uw tuin.</p>
                </div>
                <div class="footer-col">
                    <h4>Webshop</h4>
                    <ul>
                        <li><a href="shop.html">Alle Producten</a></li>
                        <li><a href="shop.html?cat=tulpen">Tulpen</a></li>
                        <li><a href="shop.html?cat=narcissen">Narcissen</a></li>
                        <li><a href="shop.html?cat=hyacinten">Hyacinten</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Over Ons</h4>
                    <ul>
                        <li><a href="kwekers.html">Onze Kwekers</a></li>
                        <li><a href="bollenstreek.html">De Bollenstreek</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact</h4>
                    <p>üìç Bollenstreek, Nederland</p>
                    <p>üìß info@bollenstreekdirect.nl</p>
                    <p>üìû +31 (0)252 123 456</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Bollenstreek Direct. Alle rechten voorbehouden.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>üõí Winkelwagen</h3>
            <button class="cart-close" id="cartClose">‚úï</button>
        </div>
        <div class="cart-items" id="cartItems"></div>
        <div class="cart-footer">
            <div class="cart-subtotal">
                <span>Subtotaal:</span>
                <span id="cartTotal">‚Ç¨0,00</span>
            </div>
            <div id="shippingInfo" class="shipping-info"></div>
            <div class="cart-total-final">
                <span>Totaal:</span>
                <span id="cartTotalFinal">‚Ç¨0,00</span>
            </div>
            <button class="btn btn-primary btn-full" onclick="window.location.href='checkout.html'">Afrekenen ‚Üí</button>
            <p class="cart-secure">üîí Veilig betalen via iDEAL, Bancontact of creditcard</p>
        </div>
    </div>
    <div class="cart-overlay" id="cartOverlay"></div>

    <script src="js/data.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/main.js"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            initMap();
            loadPartnerWebshops();
            loadLocations();
        });

        function initMap() {
            // Initialiseer Leaflet kaart gecentreerd op de Bollenstreek
            const map = L.map('map').setView([52.35, 4.65], 9);

            // Voeg OpenStreetMap tiles toe
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // Custom tulp icoon voor markers
            const tulipIcon = L.divIcon({
                className: 'custom-marker',
                html: '<div style="background: #e74c3c; width: 36px; height: 36px; border-radius: 50% 50% 50% 0; transform: rotate(-45deg); display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 10px rgba(0,0,0,0.3);"><span style="transform: rotate(45deg); font-size: 18px;">üå∑</span></div>',
                iconSize: [36, 36],
                iconAnchor: [18, 36],
                popupAnchor: [0, -36]
            });

            // Voeg markers toe voor elke kweker
            kwekers.forEach(kweker => {
                const marker = L.marker([kweker.coordinates.lat, kweker.coordinates.lng], {
                    icon: L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="background: ${kweker.color}; width: 40px; height: 40px; border-radius: 50% 50% 50% 0; transform: rotate(-45deg); display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 10px rgba(0,0,0,0.3); border: 3px solid white;"><span style="transform: rotate(45deg); font-size: 20px;">${kweker.avatar}</span></div>`,
                        iconSize: [40, 40],
                        iconAnchor: [20, 40],
                        popupAnchor: [0, -40]
                    })
                }).addTo(map);

                // Popup content
                const popupContent = `
                    <div class="popup-kweker">
                        <div style="font-size: 2rem; margin-bottom: 5px;">${kweker.avatar}</div>
                        <h3>${kweker.name}</h3>
                        <div class="location">üìç ${kweker.location}</div>
                        <div class="specialties">
                            ${kweker.specialties.map(s => `<span class="specialty">${s}</span>`).join('')}
                        </div>
                        <div style="font-size: 0.85rem; color: #7f8c8d; margin-bottom: 10px;">
                            Sinds ${kweker.since} ‚Ä¢ ‚≠ê ${kweker.rating}
                        </div>
                        ${kweker.website ? `<a href="${kweker.website}" target="_blank" class="btn-small">üåê Bezoek Website</a>` : ''}
                    </div>
                `;

                marker.bindPopup(popupContent);
            });

            // Voeg ook locatie markers toe (kleinere markers)
            locations.forEach(loc => {
                const marker = L.marker([loc.coordinates.lat, loc.coordinates.lng], {
                    icon: L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="background: #3498db; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 2px solid white;"><span style="font-size: 14px;">${loc.icon}</span></div>`,
                        iconSize: [28, 28],
                        iconAnchor: [14, 14],
                        popupAnchor: [0, -14]
                    })
                }).addTo(map);

                marker.bindPopup(`
                    <div style="text-align: center; min-width: 150px;">
                        <div style="font-size: 1.5rem;">${loc.icon}</div>
                        <strong>${loc.name}</strong>
                        <p style="color: #7f8c8d; font-size: 0.85rem; margin: 5px 0;">${loc.description}</p>
                        <small>${loc.kwekers} kweker(s) actief</small>
                    </div>
                `);
            });

            // Zoom to fit all markers
            const allCoords = [
                ...kwekers.map(k => [k.coordinates.lat, k.coordinates.lng]),
                ...locations.map(l => [l.coordinates.lat, l.coordinates.lng])
            ];
            if (allCoords.length > 0) {
                const bounds = L.latLngBounds(allCoords);
                map.fitBounds(bounds, { padding: [30, 30] });
            }
        }

        function loadPartnerWebshops() {
            const container = document.getElementById('partnerWebshops');
            if (!container) return;

            container.innerHTML = partnerWebshops.map(shop => `
                <div class="partner-card">
                    <h4>${shop.name}</h4>
                    <div class="location">üìç ${shop.location}</div>
                    <p>${shop.description}</p>
                    <div class="specialties">
                        ${shop.specialties.map(s => `<span class="specialty">${s}</span>`).join('')}
                    </div>
                    <a href="${shop.url}" target="_blank" rel="noopener" class="visit-btn">üõí Bezoek Webshop</a>
                </div>
            `).join('');
        }

        function loadLocations() {
            const container = document.getElementById('locationsGrid');
            if (!container) return;

            container.innerHTML = locations.map(loc => `
                <div class="location-card">
                    <div class="location-icon">${loc.icon}</div>
                    <h3>${loc.name}</h3>
                    <p>${loc.description}</p>
                    <div class="location-kwekers">${loc.kwekers} kweker(s) actief</div>
                </div>
            `).join('');
        }
    </script>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="js/favorites.js"></script>
    <script src="js/search.js"></script>
</body>
</html>
