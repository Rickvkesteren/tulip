<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Afrekenen - Bollenstreek Bollen</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        .checkout-page {
            padding: 40px 0;
            min-height: calc(100vh - 200px);
            background: var(--bg-light);
        }

        .checkout-grid {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 40px;
            max-width: 1100px;
            margin: 0 auto;
        }

        .checkout-form-section {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .checkout-form-section h2 {
            font-size: 1.3rem;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--bg-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-dark);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
        }

        .checkout-summary {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            position: sticky;
            top: 20px;
        }

        .checkout-summary h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--bg-light);
        }

        .summary-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            gap: 15px;
            padding: 12px 0;
            border-bottom: 1px solid var(--bg-light);
        }

        .summary-item-icon {
            font-size: 2rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-light);
            border-radius: var(--radius-sm);
        }

        .summary-item-details {
            flex: 1;
        }

        .summary-item-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .summary-item-meta {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .summary-item-price {
            font-weight: 600;
            color: var(--primary-color);
        }

        .summary-totals {
            padding: 15px 0;
            border-top: 2px solid var(--bg-light);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-row.total {
            font-size: 1.3rem;
            font-weight: 700;
            padding-top: 10px;
            border-top: 1px solid var(--border-color);
            margin-top: 10px;
        }

        .summary-row.savings {
            color: #27ae60;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .payment-method {
            border: 2px solid var(--border-color);
            border-radius: var(--radius-sm);
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .payment-method:hover,
        .payment-method.selected {
            border-color: var(--primary-color);
            background: rgba(231, 76, 60, 0.05);
        }

        .payment-method img {
            height: 30px;
            margin-bottom: 5px;
        }

        .payment-method span {
            display: block;
            font-size: 0.85rem;
        }

        .btn-checkout {
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .btn-checkout:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .checkout-trust {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--bg-light);
        }

        .trust-item {
            text-align: center;
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .trust-item span {
            display: block;
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .leverancier-info {
            background: #f0f9ff;
            border: 1px solid #bee3f8;
            border-radius: var(--radius-sm);
            padding: 15px;
            margin-bottom: 20px;
        }

        .leverancier-info h4 {
            color: #2b6cb0;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }

        .leverancier-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-right: 5px;
            margin-bottom: 5px;
        }

        .country-restrictions {
            margin-top: 10px;
        }

        .restriction-warning {
            background: #fff5f5;
            border: 1px solid #fc8181;
            color: #c53030;
            padding: 12px;
            border-radius: var(--radius-sm);
            font-size: 0.9rem;
        }

        .seasonal-warning {
            background: #fffbeb;
            border: 1px solid #f6ad55;
            color: #c05621;
            padding: 15px;
            border-radius: var(--radius-sm);
        }

        .seasonal-warning h4 {
            margin: 0 0 10px 0;
        }

        .seasonal-warning p {
            margin: 5px 0;
            font-size: 0.9rem;
        }

        .shipping-notice {
            background: #ebf8ff;
            border: 1px solid #90cdf4;
            color: #2b6cb0;
            padding: 10px;
            border-radius: var(--radius-sm);
            font-size: 0.85rem;
            margin-top: 5px;
        }

        .delivery-estimate {
            font-size: 0.85rem;
            color: #48bb78;
            margin-top: 5px;
        }

        .btn-checkout:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
        }

        @media (max-width: 900px) {
            .checkout-grid {
                grid-template-columns: 1fr;
            }

            .checkout-summary {
                position: static;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <span class="logo-icon">üå∑</span>
                    <span class="logo-text">Bollenstreek Direct</span>
                </a>
                <div class="checkout-steps" style="display: flex; gap: 20px; color: var(--text-light);">
                    <span>üõí Winkelwagen</span>
                    <span>‚Üí</span>
                    <span style="color: var(--primary-color); font-weight: 600;">üìù Gegevens</span>
                    <span>‚Üí</span>
                    <span>üí≥ Betalen</span>
                </div>
            </div>
        </div>
    </header>

    <main class="checkout-page">
        <div class="container">
            <div class="checkout-grid">
                <!-- Checkout Form -->
                <div class="checkout-forms">
                    <section class="checkout-form-section">
                        <h2>üìç Bezorgadres</h2>
                        <form id="checkoutForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName">Voornaam *</label>
                                    <input type="text" id="firstName" required>
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Achternaam *</label>
                                    <input type="text" id="lastName" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="email">E-mailadres *</label>
                                <input type="email" id="email" required placeholder="voor bevestiging en track & trace">
                            </div>
                            <div class="form-group">
                                <label for="phone">Telefoonnummer</label>
                                <input type="tel" id="phone" placeholder="voor bezorger (optioneel)">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="street">Straat en huisnummer *</label>
                                    <input type="text" id="street" required>
                                </div>
                                <div class="form-group">
                                    <label for="addition">Toevoeging</label>
                                    <input type="text" id="addition" placeholder="b, 2e etage, etc.">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="postalCode">Postcode *</label>
                                    <input type="text" id="postalCode" required placeholder="1234 AB">
                                </div>
                                <div class="form-group">
                                    <label for="city">Plaats *</label>
                                    <input type="text" id="city" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="country">Land *</label>
                                <select id="country" required onchange="updateShippingForCountry()">
                                    <!-- Filled by JS based on allowed countries -->
                                </select>
                                <div id="countryRestrictions" class="country-restrictions" style="display: none;"></div>
                            </div>
                        </form>
                    </section>

                    <section class="checkout-form-section" style="margin-top: 20px;">
                        <h2>üí≥ Betaalmethode</h2>
                        <p style="color: #7f8c8d; margin-bottom: 20px; font-size: 0.9rem;">Veilig betalen via Mollie - Kies je favoriete betaalmethode</p>
                        <div class="payment-methods">
                            <div class="payment-method selected" onclick="selectPayment(this, 'ideal')">
                                <div style="font-size: 2rem;">üè¶</div>
                                <span>iDEAL</span>
                            </div>
                            <div class="payment-method" onclick="selectPayment(this, 'bancontact')">
                                <div style="font-size: 2rem;">üí≥</div>
                                <span>Bancontact</span>
                            </div>
                            <div class="payment-method" onclick="selectPayment(this, 'creditcard')">
                                <div style="font-size: 2rem;">üí≥</div>
                                <span>Creditcard</span>
                            </div>
                            <div class="payment-method" onclick="selectPayment(this, 'paypal')">
                                <div style="font-size: 2rem;">üÖøÔ∏è</div>
                                <span>PayPal</span>
                            </div>
                            <div class="payment-method" onclick="selectPayment(this, 'klarna')">
                                <div style="font-size: 2rem;">üõçÔ∏è</div>
                                <span>Klarna</span>
                            </div>
                            <div class="payment-method" onclick="selectPayment(this, 'applepay')">
                                <div style="font-size: 2rem;">üçé</div>
                                <span>Apple Pay</span>
                            </div>
                        </div>

                        <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin-top: 20px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                            <span>üîí</span>
                            <span style="font-size: 0.9rem; color: #666;">Veilig betalen via</span>
                            <strong style="color: #000;">Mollie</strong>
                        </div>

                        <div class="leverancier-info" id="leverancierInfo">
                            <h4>üì¶ Uw bestelling wordt verzonden door:</h4>
                            <div id="leverancierBadges">
                                <!-- Filled by JS -->
                            </div>
                            <p style="font-size: 0.85rem; color: #4a5568; margin-top: 10px;">
                                Wij werken samen met gerenommeerde Nederlandse bollenkwekers. 
                                Uw bollen worden vers van de kweker verzonden.
                            </p>
                        </div>
                    </section>
                </div>

                <!-- Order Summary -->
                <div class="checkout-summary">
                    <h3>üõí Besteloverzicht</h3>
                    <div class="summary-items" id="summaryItems">
                        <!-- Filled by JS -->
                    </div>
                    
                    <div class="summary-totals">
                        <div class="summary-row">
                            <span>Subtotaal</span>
                            <span id="summarySubtotal">‚Ç¨0,00</span>
                        </div>
                        <div class="summary-row">
                            <span>Verzending</span>
                            <span id="summaryShipping">‚Ç¨0,00</span>
                        </div>
                        <div class="summary-row total">
                            <span>Totaal</span>
                            <span id="summaryTotal">‚Ç¨0,00</span>
                        </div>
                    </div>

                    <button class="btn-checkout" onclick="processCheckout()">
                        Bestelling Plaatsen ‚Üí
                    </button>

                    <div class="checkout-trust">
                        <div class="trust-item">
                            <span>üîí</span>
                            Veilig betalen
                        </div>
                        <div class="trust-item">
                            <span>üöö</span>
                            Snelle levering
                        </div>
                        <div class="trust-item">
                            <span>‚≠ê</span>
                            Topkwaliteit
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="js/data.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/translations.js"></script>
    <script src="js/ux-enhancements.js"></script>
    <script src="js/mollie.js"></script>
    <script src="js/shipping-config.js"></script>
    <script src="js/supplier-integration.js"></script>
    <script>
        let selectedPayment = 'ideal';
        let currentCountry = 'NL';

        document.addEventListener('DOMContentLoaded', function() {
            initCountrySelect();
            loadCheckoutSummary();
            loadLeverancierInfo();
            checkSeasonalRestrictions();
        });

        function initCountrySelect() {
            const select = document.getElementById('country');
            select.innerHTML = generateCountrySelectHTML('NL');
            updateShippingForCountry();
            updatePaymentMethods();
        }

        function updateShippingForCountry() {
            const country = document.getElementById('country').value;
            currentCountry = country;
            
            const postalCode = document.getElementById('postalCode')?.value || null;
            const subtotal = cart.getTotal();
            
            // Check of we naar dit land kunnen verzenden
            const canShip = canShipToCountry(country);
            const restrictionsDiv = document.getElementById('countryRestrictions');
            
            if (!canShip.allowed) {
                restrictionsDiv.innerHTML = `
                    <div class="restriction-warning">
                        ‚ö†Ô∏è ${canShip.reason}
                    </div>
                `;
                restrictionsDiv.style.display = 'block';
                document.querySelector('.btn-checkout').disabled = true;
                return;
            }
            
            restrictionsDiv.style.display = 'none';
            document.querySelector('.btn-checkout').disabled = false;
            
            // Bereken verzendkosten
            const shipping = calculateShippingCost(country, subtotal, postalCode);
            
            // Update UI
            const shippingEl = document.getElementById('summaryShipping');
            if (shipping.cost === 0) {
                shippingEl.textContent = 'GRATIS';
                shippingEl.style.color = '#27ae60';
            } else {
                shippingEl.textContent = formatPrice(shipping.cost);
                shippingEl.style.color = '';
            }
            
            // Show delivery estimate
            if (shipping.deliveryDays) {
                const estimate = `${shipping.deliveryDays.min}-${shipping.deliveryDays.max} werkdagen`;
                let existingEstimate = document.getElementById('deliveryEstimate');
                if (!existingEstimate) {
                    existingEstimate = document.createElement('div');
                    existingEstimate.id = 'deliveryEstimate';
                    existingEstimate.className = 'delivery-estimate';
                    shippingEl.parentNode.insertAdjacentElement('afterend', existingEstimate);
                }
                existingEstimate.innerHTML = `üöö Geschatte levering: ${estimate}`;
            }
            
            // Show messages (island surcharge, etc.)
            if (shipping.messages && shipping.messages.length > 0) {
                restrictionsDiv.innerHTML = shipping.messages.map(m => 
                    `<div class="shipping-notice">‚ÑπÔ∏è ${m}</div>`
                ).join('');
                restrictionsDiv.style.display = 'block';
            }
            
            // Update totaal
            const total = subtotal + (shipping.cost || 0);
            document.getElementById('summaryTotal').textContent = formatPrice(total);
            
            // Update betaalmethodes voor dit land
            updatePaymentMethods();
        }

        function updatePaymentMethods() {
            const methods = getPaymentMethodsForCountry(currentCountry);
            const container = document.querySelector('.payment-methods');
            
            const methodIcons = {
                ideal: { icon: 'üè¶', name: 'iDEAL' },
                bancontact: { icon: 'üí≥', name: 'Bancontact' },
                creditcard: { icon: 'üí≥', name: 'Creditcard' },
                paypal: { icon: 'üÖøÔ∏è', name: 'PayPal' },
                klarna: { icon: 'üõçÔ∏è', name: 'Klarna' },
                applepay: { icon: 'üçé', name: 'Apple Pay' },
                sofort: { icon: 'üèõÔ∏è', name: 'SOFORT' },
                giropay: { icon: 'üá©üá™', name: 'Giropay' },
                eps: { icon: 'üá¶üáπ', name: 'EPS' }
            };
            
            container.innerHTML = methods.map((method, index) => {
                const m = methodIcons[method] || { icon: 'üí≥', name: method };
                const selected = index === 0 ? 'selected' : '';
                return `
                    <div class="payment-method ${selected}" onclick="selectPayment(this, '${method}')">
                        <div style="font-size: 2rem;">${m.icon}</div>
                        <span>${m.name}</span>
                    </div>
                `;
            }).join('');
            
            // Select first method by default
            if (methods.length > 0) {
                selectedPayment = methods[0];
            }
        }

        function checkSeasonalRestrictions() {
            const seasonCheck = canShipProducts(cart.items);
            
            if (!seasonCheck.canShip) {
                const restrictionsDiv = document.getElementById('countryRestrictions');
                restrictionsDiv.innerHTML = `
                    <div class="seasonal-warning">
                        <h4>‚ö†Ô∏è Seizoensgebonden Verzending</h4>
                        ${seasonCheck.issues.map(issue => 
                            `<p><strong>${issue.product}:</strong> ${issue.message}</p>`
                        ).join('')}
                        <p><em>Wij nemen uw bestelling op en verzenden deze zodra het seizoen begint.</em></p>
                    </div>
                `;
                restrictionsDiv.style.display = 'block';
            }
        }

        function loadCheckoutSummary() {
            const items = cart.items;
            const container = document.getElementById('summaryItems');
            
            if (items.length === 0) {
                window.location.href = 'shop.html';
                return;
            }

            container.innerHTML = items.map(item => {
                const product = products.find(p => p.id === item.productId);
                const kweker = getKwekerForProduct(product);
                return `
                    <div class="summary-item">
                        <div class="summary-item-icon">${product.icon}</div>
                        <div class="summary-item-details">
                            <div class="summary-item-name">${product.name}</div>
                            <div class="summary-item-meta">${item.quantity}x ${product.unit} ‚Ä¢ ${kweker.name}</div>
                        </div>
                        <div class="summary-item-price">${formatPrice(product.price * item.quantity)}</div>
                    </div>
                `;
            }).join('');

            // Update totals
            document.getElementById('summarySubtotal').textContent = formatPrice(cart.getTotal());
            updateShippingForCountry();
        }

        function loadLeverancierInfo() {
            const grouped = groepeerBestellingPerLeverancier(cart.items);
            const container = document.getElementById('leverancierBadges');
            
            container.innerHTML = Object.values(grouped).map(group => `
                <span class="leverancier-badge">
                    üè≠ ${group.leverancier.name}
                </span>
            `).join('');
        }

        function selectPayment(element, method) {
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
            selectedPayment = method;
        }

        function processCheckout() {
            const form = document.getElementById('checkoutForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            // Check verzending opnieuw
            const canShip = canShipToCountry(currentCountry);
            if (!canShip.allowed) {
                alert('Verzending naar dit land is niet mogelijk: ' + canShip.reason);
                return;
            }

            const postalCode = document.getElementById('postalCode').value;
            const shipping = calculateShippingCost(currentCountry, cart.getTotal(), postalCode);

            // Collect order data
            const orderData = {
                id: 'BD-' + Date.now().toString(36).toUpperCase(),
                customer: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value
                },
                shippingAddress: {
                    street: document.getElementById('street').value,
                    addition: document.getElementById('addition').value,
                    postalCode: postalCode,
                    city: document.getElementById('city').value,
                    country: currentCountry
                },
                items: cart.items,
                payment: selectedPayment,
                totals: {
                    subtotal: cart.getTotal(),
                    shipping: shipping.cost,
                    total: cart.getTotal() + shipping.cost
                },
                createdAt: new Date().toISOString()
            };

            // Bereken marge analyse
            const margeAnalysis = calculateMargeAnalysis(
                cart.items, 
                4.50, // werkelijke verzendkosten
                shipping.cost // wat klant betaalt
            );

            // Cre√´er leveranciers orders
            const supplierOrders = supplierOrderManager.createSupplierOrders(orderData);

            // Log alles (in productie naar backend)
            console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            console.log('üì¶ NIEUWE BESTELLING:', orderData.id);
            console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
            console.log('üë§ Klant:', orderData.customer);
            console.log('üìç Verzenden naar:', orderData.shippingAddress);
            console.log('üí∞ Totaal:', formatPrice(orderData.totals.total));
            console.log('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ');
            console.log('üìä MARGE ANALYSE:');
            console.log('   Inkoop:', formatPrice(margeAnalysis.inkoop));
            console.log('   Verkoop:', formatPrice(margeAnalysis.verkoop));
            console.log('   Product marge:', formatPrice(margeAnalysis.productMarge));
            console.log('   Verzend marge:', formatPrice(margeAnalysis.shippingMarge));
            console.log('   Mollie fee:', formatPrice(margeAnalysis.mollieFee));
            console.log('   NETTO MARGE:', formatPrice(margeAnalysis.nettoMarge), 
                        `(${margeAnalysis.margePercentage}%)`);
            console.log('‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ');
            console.log('üè≠ LEVERANCIERS ORDERS:', supplierOrders.length);
            supplierOrders.forEach(order => {
                console.log(`   ‚Üí ${order.supplierName}: ${formatPrice(order.totals)}`);
            });
            console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');

            // Simuleer succesvolle bestelling
            alert(`Bedankt voor uw bestelling, ${orderData.customer.firstName}!\n\nOrder: ${orderData.id}\nTotaal: ${formatPrice(orderData.totals.total)}\n\nUw bloembollen worden vers verzonden door onze kwekers.\nU ontvangt een bevestiging op ${orderData.customer.email}`);
            
            // Clear cart
            cart.clear();
            
            // Redirect to confirmation
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
